# item7 - 다 쓴 객체 참조를 해제하라

**자기 메모리를 직접 관리하는 클래스라면 항시 메모리 누수에 주의해야한다.**

가비지 컬랙터를 이용해도 더이상 사용 가능한 메모리 영역이 없는데 계속 메모리를 할당하려고 하면, OutOfMemoryError가 발생할 수 있다.

가비지 컬랙터는 프로그래머가 직접 관리하는 메모리까지 검사하기 어렵기 때문이다.

가비지 컬랙터는 stack의 포인터가 가리키지 않는 객체들을 회수한다.

책의 stack예제는 size만 줄여줄 뿐 참조를 해제하지 않았다.

다 쓴 참조를 해제하는 방법으로는

* 객체 참조를 null처리하기
* 참조를 담은 변수를 유효 범위 밖으로 밀어내기

이렇게 있다.



</br>

**객체 참조를 null처리 하기**

다 쓴 객체를 null처리 해주면 가비지 컬렉터는 그 객체를 회수할 수 있게된다.



**참조를 담은 변수를 유효범위 밖으로 밀어내기**

```
		void func1(){
        Integer integer = 1;
    }
```

이와 같이 `}` 함수가 끝나는 지점에서 integer는 가비지 컬랙터에 의해 회수되는 객체가 된다.



[참고]

[heap과 stack](<https://yaboong.github.io/java/2018/05/26/java-memory-management/>)