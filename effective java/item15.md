# item15 - 클래스와 멤버의 접근 권한을 최소화하라

#### 잘 설계된 컴포넌트의 장점

* 모든 내부 구현을 완벽히 숨겨, 구현과 API를 깔끔히 분리한다.
* 오직 API를 통해서만 다른 컴포넌트와 소통하며 서로의 내부 동작 방식에는 전혀 개의치 않는다.
* 정보 은닉의 장점을 가진다
  * 컴포넌트 벙렬로 개발 가능 -> 개발 속도 증가
  * 컴포넌트 파악, 다른 컴포넌트에 영향을 주지 않고 교체 최적화 쉬워짐
  * 재사용가능
  * 시스템 전체가 완성되지 않은 상태에서도 컴포넌트의 동작 검증 가능



#### 자바가 제공하는 정보은닉 장치

접근 제한자

* 모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다.

* 사용법

  * 톱레벨 클래스와 인터페이스에 public으로 선언하면 공개 API가 된다.
  * 톱레벨 클래스와 인터페이스에  외부에서 쓸 필요가 없는 애들은 pakage-private로 선언하고 내부 구현으로 사용하자.
  * 한 클래스에서만 사용하는 pakage-private 톱레벨 클래스나 인터페이스는 이를 사용하는 클래스 안에 private static으로 중첩시키자

* 주의점

  * Serializable을 구현한 클래스에서는 그 필드들도 의도치 않게 공개 API가 될수도 있다.

  * public클래스의 protected멤버는 공개 API이므로 영원히 지원돼야 한다.

  * 상위 클래스의 메서드를 재정의할 때는 그 접근 수준을 상위 클래스에서보다 좁게 설정할 수 없다.

  * 테스트만을 위해 접근제어자를 적당한 수준 이상으로 넓히는것은 안된다.

  * public 클래스의 인스턴스 필드는 되도록 public이 아니어야 한다.

    (불변객체를 참조하는 상수는 괜찮다.)

  * public static final 배열필드는 제공되어서는 안된다.

    -> public 불변 리스트를 추가하자

    -> 배열을 private으로 만들고 그 복사본을 반환하자.





